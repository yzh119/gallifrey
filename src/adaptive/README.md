# Adaptive Polynomial Rendering
This directory contains my implementation of the *Adaptive Polynomial Rendering*(SIGGRAPH 2016, Bochang et al.) algorithm.
  
Here are my notes of this paper.

---
## Notes

This paper aims to reduce the MC noise of image generated by MCPT algorithm.

### Reconstruction Framework
The author use the following statistical model:
$$ y(i) = \mu(i) + \epsilon(i) $$
where \\(y\\) is the generated image function, \\(\mu\\) is the ground truth intensity, \\(\epsilon\\) models MC error.

More specifically, they decompose the ground truth into two functions: \\(\mu(i) \equiv g(f_i) + p(i)\\), the first function focuses on features related to 3D position while the second function focuses on pixel position.

Locally, they approximate the unknown \\(\mu\\) function by using Taylor Polynomials:
$$\mu(i) \approx \nabla g(f_c) (f_i - f_c)^T + p(c) + \sum_{1\leq a \leq k} \frac{\nabla^a p(c)}{a!} ((i - c)^a)^T $$

The coefficients could be optimized by least-square method:
$$\sum_{i\in \Omega_c} \left( y(i) - \alpha(f_i - f_c)^T - \beta_0 - \sum_{1\leq a \leq k} \beta_a ((i - c)^a)  \right)^2 K_h(i)$$

### Adaptive Polynomial Reconstruction
To locally optimize the polynomial order \\(k\\), we have to optimize the fuction:
$$ \xi_c(k) \equiv \frac{1}{\sum K_h(i)} \sum_{i\in \Omega_c} K_h(i) (\hat{y}_k(i) - \mu(i))^2 $$

where \\(\mu\\) is intractable, thus we need to find alternatives to optimize. The authors raised three methods to deal with this stuff.

#### Bias and Variance Expression
#### Multi-Stage Error Estimation
#### Energy-Preserving Outlier Removal

### Adaptive Polynomial Sampling

---
## Details in implementation